<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Reproducible computational environments using containers: Introduction to Singularity: Building Singularity images</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png"><link rel="manifest" href="../favicons/incubator/site.webmanifest"><link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-warning">
          <abbr title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../07-singularity-images-building.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Reproducible computational environments using containers: Introduction to Singularity
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Reproducible computational environments using containers: Introduction to Singularity
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="about.html">About</a></li><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="figures.html">Figures</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Reproducible computational environments using containers: Introduction to Singularity
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 53%" class="percentage">
    53%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 53%" aria-valuenow="53" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../07-singularity-images-building.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-singularity-gettingstarted.html">1. Singularity: Getting started</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-singularity-cache.html">2. The Singularity cache</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-singularity-shell.html">3. Using Singularity containers to run commands</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-singularity-files.html">4. Files in Singularity containers</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-singularity-docker.html">5. Using Docker images with Singularity</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-singularity-images-prep.html">6. Preparing to build Singularity images</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        7. Building Singularity images
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#building-singularity-images">Building Singularity images</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-singularity-mpi.html">8. Running MPI parallel jobs using Singularity containers</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="about.html">About</a></li><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="figures.html">Figures</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/06-singularity-images-prep.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/08-singularity-mpi.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/06-singularity-images-prep.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Preparing to build
        </a>
        <a class="chapter-link float-end" href="../instructor/08-singularity-mpi.html" rel="next">
          Next: Running MPI parallel...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Building Singularity images</h1>
        <p>Last updated on 2025-01-27 |

        <a href="https://github.com/kcl-eresearch/singularity-introduction/edit/main/episodes/07-singularity-images-building.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I create my own Singularity images?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Understand the different Singularity container file formats.</li>
<li>Understand how to build and share your own Singularity
containers.</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="building-singularity-images">Building Singularity images<a class="anchor" aria-label="anchor" href="#building-singularity-images"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h3>
<p>As a platform that is widely used in the scientific/research software
and HPC communities, Singularity provides great support for
reproducibility. If you build a Singularity image for some scientific
software, it’s likely that you and/or others will want to be able to
reproduce exactly the same environment again. Maybe you want to verify
the results of the code or provide a means that others can use to verify
the results to support a paper or report. Maybe you’re making a tool
available to others and want to ensure that they have exactly the right
version/configuration of the code.</p>
<p>Similarly to Docker and many other modern software tools, Singularity
follows the “Configuration as code” approach and a container
configuration can be stored in a file which can then be committed to
your version control system alongside other code. Assuming it is
suitably configured, this file can then be used by you or other
individuals (or by automated build tools) to reproduce a container with
the same configuration at some point in the future.</p>
</div>
<div class="section level3">
<h3 id="different-approaches-to-building-images">Different approaches to building images<a class="anchor" aria-label="anchor" href="#different-approaches-to-building-images"></a></h3>
<p>There are various approaches to building Singularity images. We
highlight two different approaches here and focus on one of them:</p>
<ul><li>
<em>Building within a sandbox:</em> You can build a container
interactively within a sandbox environment. This means you get a shell
within the container environment and install and configure packages and
code as you wish before exiting the sandbox and converting it into a
container image.</li>
<li>
<em>Building from a <a href="https://sylabs.io/guides/3.5/user-guide/build_a_container.html#creating-writable-sandbox-directories" class="external-link">Singularity
Definition File</a></em>: This is Singularity’s equivalent to building a
Docker container from a <code>Dockerfile</code> and we’ll discuss this
approach in this section.</li>
</ul><p>You can take a look at Singularity’s “<a href="https://sylabs.io/guides/3.5/user-guide/build_a_container.html" class="external-link">Build
a Container</a>” documentation for more details on different approaches
to building containers.</p>
<div id="why-look-at-singularity-definition-files" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="why-look-at-singularity-definition-files" class="callout-inner">
<h3 class="callout-title">Why look at Singularity Definition Files?</h3>
<div class="callout-content">
<p>Why do you think we might be looking at the <em>definition file
approach</em> here rather than the <em>sandbox approach</em>?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Discussion
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>The sandbox approach is great for prototyping and testing out an
image configuration but it doesn’t provide the best support for our
ultimate goal of <em>reproducibility</em>. If you spend time sitting at
your terminal in front of a shell typing different commands to add
configuration, maybe you realise you made a mistake so you undo one
piece of configuration and change it. This goes on until you have your
completed, working configuration but there’s no explicit record of
exactly what you did to create that configuration.</p>
<p>Say your container image file gets deleted by accident, or someone
else wants to create an equivalent image to test something. How will
they do this and know for sure that they have the same configuration
that you had? With a definition file, the configuration steps are
explicitly defined and can be easily stored (and re-run).</p>
<p>Definition files are small text files while container files may be
very large, multi-gigabyte files that are difficult and time consuming
to move around. This makes definition files ideal for storing in a
version control system along with their revisions.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="creating-a-singularity-definition-file">Creating a Singularity Definition File<a class="anchor" aria-label="anchor" href="#creating-a-singularity-definition-file"></a></h3>
<p>A Singularity Definition File is a text file that contains a series
of statements that are used to create a container image. In line with
the <em>configuration as code</em> approach mentioned above, the
definition file can be stored in your code repository alongside your
application code and used to create a reproducible image. This means
that for a given commit in your repository, the version of the
definition file present at that commit can be used to reproduce a
container with a known state. It was pointed out earlier in the course,
when covering Docker, that this property also applies for
Dockerfiles.</p>
<p>We’ll now look at a very simple example of a definition file:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">Bootstrap:</span> docker</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">From:</span> ubuntu:20.04</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="ex">%post</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="ex">apt-get</span> <span class="at">-y</span> update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install <span class="at">-y</span> python</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="ex">%runscript</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    <span class="ex">python</span> <span class="at">-c</span> <span class="st">'print("Hello World! Hello from our custom Singularity image!")'</span></span></code></pre>
</div>
<p>A definition file has a number of optional sections, specified using
the <code>%</code> prefix, that are used to define or undertake
different configuration during different stages of the image build
process. You can find full details in Singularity’s <a href="https://sylabs.io/guides/3.5/user-guide/definition_files.html" class="external-link">Definition
Files documentation</a>. In our very simple example here, we only use
the <code>%post</code> and <code>%runscript</code> sections.</p>
<p>Let’s step through this definition file and look at the lines in more
detail:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">Bootstrap:</span> docker</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">From:</span> ubuntu:20.04</span></code></pre>
</div>
<p>These first two lines define where to <em>bootstrap</em> our image
from. Why can’t we just put some application binaries into a blank
image? Any applications or tools that we want to run will need to
interact with standard system libraries and potentially a wide range of
other libraries and tools. These need to be available within the image
and we therefore need some sort of operating system as the basis for our
image. The most straightforward way to achieve this is to start from an
existing base image containing an operating system. In this case, we’re
going to start from a minimal Ubuntu 20.04 Linux Docker image. Note that
we’re using a Docker image as the basis for creating a Singularity
image. This demonstrates the flexibility in being able to start from
different types of images when creating a new Singularity image.</p>
<p>The <code>Bootstrap: docker</code> line is similar to prefixing an
image path with <code>docker://</code> when using, for example, the
<code>singularity pull</code> command. A range of <a href="https://sylabs.io/guides/3.5/user-guide/definition_files.html#preferred-bootstrap-agents" class="external-link">different
bootstrap options</a> are supported. <code>From: ubuntu:20.04</code>
says that we want to use the <code>ubuntu</code> image with the tag
<code>20.04</code> from Docker Hub.</p>
<p>Next we have the <code>%post</code> section of the definition
file:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">%post</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="ex">apt-get</span> <span class="at">-y</span> update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install <span class="at">-y</span> python3</span></code></pre>
</div>
<p>In this section of the file we can do tasks such as package
installation, pulling data files from remote locations and undertaking
local configuration within the image. The commands that appear in this
section are standard shell commands and they are run <em>within</em> the
context of our new container image. So, in the case of this example,
these commands are being run within the context of a minimal Ubuntu
20.04 image that initially has only a very small set of core packages
installed.</p>
<p>Here we use Ubuntu’s package manager to update our package indexes
and then install the <code>python3</code> package along with any
required dependencies. The <code>-y</code> switches are used to accept,
by default, interactive prompts that might appear asking you to confirm
package updates or installation. This is required because our definition
file should be able to run in an unattended, non-interactive
environment.</p>
<p>Finally we have the <code>%runscript</code> section:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">%runscript</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>    <span class="ex">python3</span> <span class="at">-c</span> <span class="st">'print("Hello World! Hello from our custom Singularity image!")'</span></span></code></pre>
</div>
<p>This section is used to define a script that should be run when a
container is started based on this image using the
<code>singularity run</code> command. In this simple example we use
<code>python3</code> to print out some text to the console.</p>
<p>We can now save the contents of the simple defintion file shown above
to a file and build an image based on it. In the case of this example,
the definition file has been named <code>my_test_image.def</code>. (Note
that the instructions here assume you’ve bound the image output
directory you created to the <code>/home/singularity</code> directory in
your Docker Singularity container, as explained in the “<a href="#getting-started-with-the-docker-singularity-image"><em>Getting
started with the Docker Singularity image</em></a>” section above.):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> singularity build /home/singularity/my_test_image.sif /home/singularity/my_test_image.def</span></code></pre>
</div>
<p>Recall from the details at the start of this section that if you are
running your command from the host system command line, running an
instance of a Docker container for each run of the command, your command
will look something like this:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> docker run <span class="at">--privileged</span> <span class="at">--rm</span> <span class="at">-v</span> <span class="va">${PWD}</span>:/home/singularity quay.io/singularity/singularity:v3.5.3-slim build /home/singularity/my_test_image.sif /home/singularity/my_test_image.def</span></code></pre>
</div>
<p>The above command requests the building of an image based on the
<code>my_test_image.def</code> file with the resulting image saved to
the <code>my_test_image.sif</code> file. Note that you will need to
prefix the command with <code>sudo</code> if you’re running a locally
installed version of Singularity and not running via Docker because it
is necessary to have administrative privileges to build the image. You
should see output similar to the following:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>INFO:    Starting build...
Getting image source signatures
Copying blob d51af753c3d3 skipped: already exists
Copying blob fc878cd0a91c skipped: already exists
Copying blob 6154df8ff988 skipped: already exists
Copying blob fee5db0ff82f skipped: already exists
Copying config 95c3f3755f done
Writing manifest to image destination
Storing signatures
2020/04/29 13:36:35  info unpack layer: sha256:d51af753c3d3a984351448ec0f85ddafc580680fd6dfce9f4b09fdb367ee1e3e
2020/04/29 13:36:36  info unpack layer: sha256:fc878cd0a91c7bece56f668b2c79a19d94dd5471dae41fe5a7e14b4ae65251f6
2020/04/29 13:36:36  info unpack layer: sha256:6154df8ff9882934dc5bf265b8b85a3aeadba06387447ffa440f7af7f32b0e1d
2020/04/29 13:36:36  info unpack layer: sha256:fee5db0ff82f7aa5ace63497df4802bbadf8f2779ed3e1858605b791dc449425
INFO:    Running post scriptlet
+ apt-get -y update
Get:1 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]
...
  [Package update output truncated]
...
Fetched 13.4 MB in 2s (5575 kB/s)
Reading package lists... Done
+ apt-get install -y python3
Reading package lists... Done
...
  [Package install output truncated]
...Processing triggers for libc-bin (2.31-0ubuntu9) ...
INFO:    Adding runscript
INFO:    Creating SIF file...
INFO:    Build complete: my_test_image.sif
$ </code></pre>
</div>
<p>You should now have a <code>my_test_image.sif</code> file in the
current directory. Note that in the above output, where it says
<code>INFO:  Starting build...</code> there is a series of
<code>skipped: already exists</code> messages for the
<code>Copying blob</code> lines. This is because the Docker image slices
for the Ubuntu 20.04 image have previously been downloaded and are
cached on the system where this example is being run. On your system, if
the image is not already cached, you will see the slices being
downloaded from Docker Hub when these lines of output appear.</p>
<div id="permissions-of-the-created-image-file" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="permissions-of-the-created-image-file" class="callout-inner">
<h3 class="callout-title">Permissions of the created image file</h3>
<div class="callout-content">
<p>You may find that the created Singularity image file on your host
filesystem is owned by the <code>root</code> user and not your user. In
this case, you won’t be able to change the ownership/permissions of the
file directly if you don’t have root access.</p>
<p>However, the image file will be readable by you and you should be
able to take a copy of the file under a new name which you will then
own. You will then be able to modify the permissions of this copy of the
image and delete the original root-owned file since the default
permissions should allow this.</p>
</div>
</div>
</div>
<div id="cluster-platform-configuration-for-running-singularity-containers" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="cluster-platform-configuration-for-running-singularity-containers" class="callout-inner">
<h3 class="callout-title">Cluster platform configuration for running Singularity containers</h3>
<div class="callout-content">
<p><em><strong>Note to instructors:</strong> Add details into this box
of any custom configuration that needs to be done on the cluster
platform or other remote system that you’re providing access to for the
purpose of undertaking this course. If <code>singularity</code> does not
require any custom configuration by the user on the host platform, you
can remove this box.</em></p>
</div>
</div>
</div>
<p>It is recommended that you move the created <code>.sif</code> file to
a platform with an installation of Singularity, rather than attempting
to run the image using the Docker container. However, if you do wish to
try using the Docker container, see the notes below on “<em>Using
singularity run from within the Docker container</em>” for further
information.</p>
<p>If you have access to a remote platform with Singularity installed on
it, you should now move your created <code>.sif</code> image file to
this platform. You could, for example, do this using the command line
secure copy command <code>scp</code>.</p>
<div id="using-scp-secure-copy-to-copy-files-between-systems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-scp-secure-copy-to-copy-files-between-systems" class="callout-inner">
<h3 class="callout-title">Using <code>scp</code> (secure copy) to copy
files between systems</h3>
<div class="callout-content">
<p><code>scp</code> is a widely used tool that uses the SSH protocol to
securely copy files between systems. As such, the syntax is similar to
that of SSH.</p>
<p>For example, if you want to copy the <code>my_image.sif</code> file
from the current directory on your local system to your home directory
(e.g. <code>/home/myuser/</code>) on a remote system
(e.g. <em>hpc.myinstitution.ac.uk</em>) where an SSH private key is
required for login, you would use a command similar to the
following:</p>
<pre><code>scp -i /path/to/keyfile/id_mykey ./my_image.sif myuser@hpc.myinstitution.ac.uk:/home/myuser/</code></pre>
<p>Note that if you leave off the <code>/home/myuser</code> and just end
the command with the <code>:</code>, the file will, by default, be
copied to your home directory.</p>
</div>
</div>
</div>
<p>We can now attempt to run a container from the image that we
built:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> singularity run my_test_image.sif</span></code></pre>
</div>
<p>If everything worked successfully, you should see the message printed
by Python:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Hello World! Hello from our custom Singularity image!</code></pre>
</div>
<div id="using-singularity-run-from-within-the-docker-container" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-singularity-run-from-within-the-docker-container" class="callout-inner">
<h3 class="callout-title">Using <code>singularity run</code> from within
the Docker container</h3>
<div class="callout-content">
<p>It is strongly recommended that you don’t use the Docker container
for running Singularity images, only for creating them, since the
Singularity command runs within the container as the root user.</p>
<p>However, for the purposes of this simple example, and potentially for
testing/debugging purposes it is useful to know how to run a Singularity
container within the Docker Singularity container. You may recall from
the <a href="06-singularity-images-prep.html">Running a container from
the image</a> section in the previous episode that we used the
<code>--contain</code> switch with the <code>singularity</code> command.
If you don’t use this switch, it is likely that you will get an error
relating to <code>/etc/localtime</code> similar to the following:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>WARNING: skipping mount of /etc/localtime: no such file or directory
FATAL:   container creation failed: mount /etc/localtime-&gt;/etc/localtime error: while mounting /etc/localtime: mount source /etc/localtime doesn't exist</code></pre>
</div>
<p>This occurs because the <code>/etc/localtime</code> file that
provides timezone configuration is not present within the Docker
container. If you want to use the Docker container to test that your
newly created image runs, you can use the <code>--contain</code> switch,
or you can open a shell in the Docker container and add a timezone
configuration as described in the <a href="https://wiki.alpinelinux.org/wiki/Setting_the_timezone" class="external-link">Alpine
Linux documentation</a>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> apk add tzdata</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">$</span> cp /usr/share/zoneinfo/Europe/London /etc/localtime</span></code></pre>
</div>
<p>The <code>singularity run</code> command should now work successfully
without needing to use <code>--contain</code>. Bear in mind that once
you exit the Docker Singularity container shell and shutdown the
container, this configuration will not persist.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="more-advanced-definition-files">More advanced definition files<a class="anchor" aria-label="anchor" href="#more-advanced-definition-files"></a></h3>
<p>Here we’ve looked at a very simple example of how to create an image.
At this stage, you might want to have a go at creating your own
definition file for some code of your own or an application that you
work with regularly. There are several definition file sections that
were <em>not</em> used in the above example, these are:</p>
<ul><li><code>%setup</code></li>
<li><code>%files</code></li>
<li><code>%environment</code></li>
<li><code>%startscript</code></li>
<li><code>%test</code></li>
<li><code>%labels</code></li>
<li><code>%help</code></li>
</ul><p>The <a href="https://sylabs.io/guides/3.5/user-guide/definition_files.html#sections" class="external-link"><code>Sections</code>
part of the definition file documentation</a> details all the sections
and provides an example definition file that makes use of all the
sections.</p>
</div>
<div class="section level3">
<h3 id="additional-singularity-features">Additional Singularity features<a class="anchor" aria-label="anchor" href="#additional-singularity-features"></a></h3>
<p>Singularity has a wide range of features. You can find full details
in the <a href="https://sylabs.io/guides/3.5/user-guide/index.html" class="external-link">Singularity
User Guide</a> and we highlight a couple of key features here that may
be of use/interest:</p>
<p><strong>Remote Builder Capabilities:</strong> If you have access to a
platform with Singularity installed but you don’t have root access to
create containers, you may be able to use the <a href="https://cloud.sylabs.io/builder" class="external-link">Remote Builder</a> functionality
to offload the process of building an image to remote cloud resources.
You’ll need to register for a <em>cloud token</em> via the link on the
<a href="https://cloud.sylabs.io/builder" class="external-link">Remote Builder</a> page.</p>
<p><strong>Signing containers:</strong> If you do want to share
container image (<code>.sif</code>) files directly with colleagues or
collaborators, how can the people you send an image to be sure that they
have received the file without it being tampered with or suffering from
corruption during transfer/storage? And how can you be sure that the
same goes for any container image file you receive from others?
Singularity supports signing containers. This allows a digital signature
to be linked to an image file. This signature can be used to verify that
an image file has been signed by the holder of a specific key and that
the file is unchanged from when it was signed. You can find full details
of how to use this functionality in the Singularity documentation on <a href="https://sylabs.io/guides/3.0/user-guide/signNverify.html" class="external-link">Signing
and Verifying Containers</a>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Singularity definition files are used to define the build process
and configuration for an image.</li>
<li>Singularity’s Docker container provides a way to build images on a
platform where Singularity is not installed but Docker is
available.</li>
<li>Existing images from remote registries such as Docker Hub and
Singularity Hub can be used as a base for creating new Singularity
images.</li>
</ul></div>
</div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/06-singularity-images-prep.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/08-singularity-mpi.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/06-singularity-images-prep.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Preparing to build
        </a>
        <a class="chapter-link float-end" href="../instructor/08-singularity-mpi.html" rel="next">
          Next: Running MPI parallel...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/kcl-eresearch/singularity-introduction/edit/main/episodes/07-singularity-images-building.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/kcl-eresearch/singularity-introduction/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/kcl-eresearch/singularity-introduction/" class="external-link">Source</a></p>
				<p><a href="https://github.com/kcl-eresearch/singularity-introduction/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:liz.ing-simmons@kcl.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://preview.carpentries.org/singularity-introduction/instructor/07-singularity-images-building.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Building Singularity images",
  "creativeWorkStatus": "active",
  "url": "https://preview.carpentries.org/singularity-introduction/instructor/07-singularity-images-building.html",
  "identifier": "https://preview.carpentries.org/singularity-introduction/instructor/07-singularity-images-building.html",
  "dateCreated": "2025-01-27",
  "dateModified": "2025-01-27",
  "datePublished": "2025-01-27"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

